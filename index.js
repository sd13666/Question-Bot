// const {Bot} = require('grammy'); // —ñ–º–ø–æ—Ä—Ç—É—î–º–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é require –∫–ª–∞—Å 'Bot' —ñ–∑ 'grammy'

/*—Å–æ–∑–¥–∞—î–º —Å–≤–æ–≥–æ –±–æ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ–≥–æ –∫–ª–∞—Å–∞ –ø–µ—Ä–µ–¥–∞—é—á–∏ –≤ 
–∫–∞—á–µ—Å—Ç–≤—ñ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Å—Ç—Ä–æ–∫—É –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º, —è–∫–∏–π –æ—Ç—Ä–∏–º–∞–ª–∏ —Ä–∞–Ω—ñ—à–µ –≤—ñ–¥ 'BotFather' 
*/
// const bot = new Bot('6514896206:AAG2PQWwhKxbQxUhqksBGKaPeBQDNmVRvqc');
/** 
 * –ó–∞–ø—É—Å–∫–∞—î–º –±–æ—Ç–∞.
 * –ö–æ–ª–∏ –º–∏ –∑–∞–ø—É—Å—Ç–∏–º–æ –±–æ—Ç–∞ –≤—ñ–Ω –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∞–ª–µ –Ω–µ –±—É–¥–µ –Ω—ñ—á–æ–≥–æ —Ä–æ–±–∏—Ç–∏
 * –ê–ª–µ –Ω–∞–º –ø–æ—Ç—Ä–≤–±–Ω–æ —è–∫–æ—Å—å –æ–±—Ä–æ–±–ª—á—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —è–∫–æ—Å—å —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –¥—ñ—ó, 
 * —â–æ–± –±–æ—Ç –ø—Ä–∞—Ü—é–≤–∞–≤.
 * –∑–∞—Ä–∞–∑ –≤ –±–æ—Ç—ñ —î –ø—Ä–±–ª–µ–º–∞ (–≤—ñ–¥–∫—Ä–∏—Ç–∏–π —Ç–æ–∫–µ–Ω), —è–∫—â–æ –º–∏ –∑–∞–≥—Ä—É–∑–∏–º–æ –±–æ—Ç–∞ –Ω–∞ –≥—ñ—Ç—Ö–∞–± –Ω–∞—à –±–æ—Ç –±—É–¥–µ
 * —Å–∫–æ–ø—Ä–æ–º—ñ—Ç–æ–≤–∞–Ω, —â–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π —Ç–æ–∫–µ–Ω.
 * —â–æ–± —Ü—å–æ–≥–æ –Ω–µ –±—É–ª–æ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ç–∞–∫—ñ –∑–º—ñ–Ω–Ω—ñ –≤ –∫–∞—á–µ—Å—Ç–≤—ñ –∑–º—ñ–Ω–∏—Ö –æ–∫—Ä—É–∂–µ–Ω—ñ—è 
 * —Å—Ç–≤–æ—Ä–∏–º–æ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É —ñ –ø–µ—Ä–µ–º—ñ—Å—Ç–∏–º–æ —Ç—É–¥–∏ —Ç–æ–∫–µ–Ω –Ω–∞–∑–≤–∞–≤ –∑–º—ñ–Ω—É –∑–Ω–∏–º 'bot_api_key'
*/


/**–ü—ñ—Å–ª—è —Ç–æ–≥–æ —è–∫ —Å—Ç–≤–æ—Ä–∏–ª–∏ —Ñ–∞–π–ª .env 
 * –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `.env` —ñ —Ç–æ–∫–µ–Ω –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø–æ –≤–∏–∑–æ–≤—É 
*/

/**–¢–µ–ø–µ—Ä —Ä–µ–∞–ª—ñ–∑—É—î–º–æ –±–∞–∑–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:
 * -—Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –∫–æ–º–∞–Ω–¥—É —Å—Ç–∞—Ä—Ç
 * -–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
 * -–æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–º–∏–ª–æ–∫
 * —â–æ–± —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±–∏—Ç—ñ–π –∫–æ–º–∞–Ω–¥–∞
 * –∑ –ø–æ–º–æ—â—é –º–µ—Ç–æ–¥–∞ `command` —É –±–æ—Ç–∞.
 * –î–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å–ª—É—à–∞—Ç–µ–ª—ñ –ø–µ—Ä–µ–¥ –∫–æ–º–∞–Ω–¥–æ—é bot.start();
 * 
 */


























require('dotenv').config();
const {
  Bot, 
  Keyboard, 
  InlineKeyboard,
  GrammyError,
  HttpError
} = require('grammy');
const { getRandomQuestion, getCorrectAnswer } = require('./utils');

const bot = new Bot(process.env.BOT_API_KEY)

bot.command('start', async (ctx) => {
  const startKeyboard = new Keyboard()
    .text('HTML')
    .text('CSS')
    .row()
    .text('JavaScript')
    .text('React')
    .row()
    .text('–†–∞–Ω–¥–æ–º–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è')
    .resized();
  await ctx.reply('–ü—Ä–∏–≤–µ—Ç! –Ø - Frontend Question Bot üéÇ \n–Ø –¥–æ–ø–æ–º–æ–∂—É —Ç–æ–±—ñ –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏—Å—è –¥–æ —ñ–Ω—Ç–µ—Ä–≤\'\—é –ø–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É ',
  );
  await ctx.reply('–ó —á–æ–≥–æ –ø–æ—á–Ω–µ–º–æ? –í–∏–±–µ—Ä–∏ —Ç–µ–º—É –¥–ª—è –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –≤ –º–µ–Ω—é üëá', {
    reply_markup: startKeyboard
  });
});

bot.hears(['HTML', 'CSS', 'JavaScript', 'React', '–†–∞–Ω–¥–æ–º–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è'], async (ctx) => {
  const topic = ctx.message.text.toLowerCase();
  const { question, questionTopic } = getRandomQuestion(topic);

  let inLineKeyboard;
    
  if (question.hasOptions) {
    const buttonRows = question.options.map((option) => [
        InlineKeyboard.text(
          option.text, 
          JSON.stringify({
            type: `${questionTopic}-option`,
            isCorrect: option.isCorrect,
            questionId: question.id,
        }),
      ),
    ]);

    inLineKeyboard = InlineKeyboard.from(buttonRows);
  } else {
    inLineKeyboard = new InlineKeyboard().text(
    '–û—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å', 
    JSON.stringify({
      type: questionTopic,
      questionId: question.id,
    }),
  );
}

  await ctx.reply(question.text, {
    reply_markup: inLineKeyboard,
  });
});

bot.on('callback_query:data', async (ctx) => {
  const callbackData = JSON.parse(ctx.callbackQuery.data);
  
  if (!callbackData.type.includes('option')) {
    const answer = getCorrectAnswer(callbackData.type, callbackData.questionId);
    await ctx.reply(answer, {
      parse_mode: 'HTML',
      disable_web_page_preview: true,
    });
    await ctx.answerCallbackQuery();
    return;
  }

  if (callbackData.isCorrect) {
    await ctx.reply('–í—ñ—Ä–Ω–æ ‚úî');
    await ctx.answerCallbackQuery();
    return;
  }

  const answer = getCorrectAnswer(callbackData.type.split('-')[0], callbackData.questionId);
  await ctx.reply(`–ù–µ –≤—ñ—Ä–Ω–æ ‚ùå –í—ñ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: ${answer}`);
  await ctx.answerCallbackQuery();
});


bot.catch((err) => {
  const ctx = err.ctx;
  console.error(`Error while handling update ${ctx.update.update_id}:`);
  const e = err.error;
  if (e instanceof GrammyError) {
    console.error("Error in request:", e.description);
  } else if (e instanceof HttpError) {
    console.error("Could not contact Telegram:", e);
  } else {
    console.error("Unknown error:", e);
  }
});



bot.start();
































// —Å–ø—Ä–æ—â—É—î–º–æ —Å–æ–±—ñ —Ä–æ–∑—Ä–æ–±–∫—É, —â–æ–± –∫–æ–∂–µ–Ω —Ä–∞–∑ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω—ñ—î
// –¥–ª—è —Ü—å–æ–≥–æ –Ω–∞—Å—Ç—Ä–∞—é—î–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω—î–Ω—ñ—ó —Ñ–∞–π–ª—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é 
// –ø–∞–∫–µ—Ç–∞ 'nodemon' 
// —É—Å—Å—Ç–∞–Ω–∞–≤–ª—é—î–º–æ –≤ –∫–æ–Ω—Å–æ–ª—ñ 'npm i nodemon'
// –ø—ñ—Å–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ `package.json` –≤ —Å–≤–æ–π—Å—Ç–≤—ñ 'scripts' –¥–æ–±–∞–≤–∏–º –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞,
// –Ω–∞–∑–≤–µ–º–æ —ó—ó "start" —ñ –≤–∏–ø–æ–ª–Ω—è—Ç—å –≤–æ–Ω–∞ –±—É–¥–µ –∫–æ–º–∞–Ω–¥—É "nodemon index.js"
// –∑–∞–ø—É—Å–∫—É—î–º–æ –±–æ—Ç–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–º–∞–Ω–¥–∏ "npm start" –≤ –∫–æ–Ω—Å–æ–ª—ñ.

/* –ü–æ–≤–µ—Ä–Ω–µ–º–æ—Å—å –¥–æ —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ —Å–æ–±–∏—Ç—ñ—è. –ö—Ä–æ–º–µ –∫–æ–º–∞–Ω–¥ –º–∏ –º–æ–∂–µ–º–æ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞:
- 1) –ª—é–±—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è (—â–æ–± –Ω–∞ –ª—é–±–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º–∏ –≤–∏–∫–æ–Ω—É–≤–∞–ª–∏ —è–∫—É—Å—å —Ñ-—ñ—é);
- 2) –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –º–µ–¥—ñ–∞ (–∫–∞—Ä—Ç–∏–Ω–∫–∞, –≤—ñ–¥–µ–æ —ñ —Ç.–¥.);
- –ø–µ—Ä—à–µ —ñ –¥—Ä—É–≥–µ —Ä–æ–±–∏—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é "bot.on()";
- 3) –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º —Ç–µ–∫—Å—Ç–æ–º –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é "bot.hears();"
- 4) –Ω–∞ —Å–æ–±–∏—Ç—ñ—è, (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ —Ç–∫–µ —ñ–Ω—à–µ. –ü–æ–¥—Ä–æ–±–Ω–æ –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –ø–æ `grammy`);
- –ø–æ–∫–∏ —â–æ –¥–æ–±–∞–≤–∏–º —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `HTML`,
–ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω—ñ—ó —Ç–∞–∫–æ–≥–æ —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –±—É–¥–µ–º –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –≤–æ–ø—Ä–æ—Å –ø–æ HTML,
–¥–ª—è —Ü—å–æ–≥–æ –Ω–∞–º —Ç—Ä–µ–±–∞ –º–µ—Ç–æ–¥ 'hears' - —Å—Ç—Ä–æ–∫–∞ 45;

- –¥–æ–±–∞–≤–ª—è—î–º –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–º–∏–ª–æ–∫: - —Å—Ç—Ä–æ–∫–∞ 49
- –¥–æ–±–∞–≤–∏–º —ñ–º–ø–æ—Ä—Ç –Ω—É–∂–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ "GrammyError", "HttpError";
- –ø–µ—Ä–µ–π–¥–µ–º–æ –¥–æ –ø—Ä–æ—Ä–æ–±–æ—Ç–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –±–æ—Ç–∞;
- –¥–æ—Ä–∞–±–æ—Ç–∞—î–º –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∫–æ–º–∞–Ω–¥—É '—Å—Ç–∞—Ä—Ç'; –æ–∫—Ä—ñ–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±—É–¥–µ–º–æ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É 
–∫–∞—Å—Ç–æ–º–Ω—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –∑ –≤–∏–±–æ—Ä–æ–º —Ç–µ–º –¥–ª—è –ø–∏—Ç–∞–Ω—å
- –¥–æ–±–∞–≤–ª—è—î–º –∫–ª–∞—Å—Å 'Keyboard' —ñ–∑ `grammy` - —Å—Ç—Ä–æ–∫–∞ 35
- —Å–æ–∑–¥–∞—î–º –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É —Ç–∞–∫–∂–µ —è–∫ —Å–æ—Å—Ç–∞–≤–ª—è–ª–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ 'New',
—Å–æ–∑–¥–∞—î–º–æ —ó—ó –≤–Ω—É—Ç—Ä—ñ –∫–æ–º–∞–Ω–¥–∏ 'Start'// - —Å—Ç—Ä–æ–∫–∞ 40
*/

/** –ü–µ—Ä–µ–π–¥–µ–º–æ –¥–æ –æ–±—Ä–æ–±–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:
 * - –∑–∞—Ä–∞–∑ –Ω–∞—à —Å–ª—É—à–∞—Ç–µ–ª—å(—Å—Ç—Ä–æ–∫–∞ 54) —Ä–µ–∞–≥—É—î —Ç—ñ–ª—å–∫–∏ –Ω–∞ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è 'HTML'
 * - –º–æ–∂–Ω–∞ –±—É–ª–æ –ø—ñ–¥ –∫–æ–∂–Ω—É –∫–Ω–æ–ø–∫—É —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ª—É—à–∞—Ç–µ–ª—å –∞–ª–µ —Ç—Ä–µ–±–∞ –ø—Ä–∏
 * —Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å –ø—Ä–∏–Ω—Ü–∏–ø—É DRY (Don`t repeat yourself).
 * - –©–æ–± —Å–ª—É—à–∞—Ç–µ–ª—å —Ä–µ–∞–≥—É–≤–∞–≤ –Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
 * –º–∏ –ø–µ—Ä–µ–¥–∞–º–æ –¥–æ –Ω—å–æ–≥–æ –Ω–µ —Å—Ç—Ä–æ–∫—É, –∞ –º–∞—Å–∏–≤ –∑—ñ —Å—Ç—Ä–æ–∫–∞–º–∏ (—Å—Ç—Ä–æ–∫–∞ 54)
–∞ –≤ –∫–æ–ª–±–µ–∫ —Ñ—É-—é –±—É–¥–µ–º–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∑–∞–¥–∞–Ω—É —Ç–µ–º—É —ñ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
–≤ —Ä—è–¥–∫—É 55 –∑–∞–º—ñ–Ω—é—î–º–æ –æ–±—Ä–∞—Ç–Ω—ñ –∫–∞–≤–∏—á–∫–∏ —ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é '$' i '{}' –±—É–¥–µ–º–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –¥–æ ctx.message.text
—Ç–æ–±—Ç–æ —É –Ω–∞—Å —Ç–∞–º –±—É–¥–µ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è —Ç–æ —â–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø–∏—Å–∞–≤
*/

// –ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π —Ä–µ–∞–ª—å–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å —Å—Ç–≤–æ—Ä–∏–º–æ —ñ—â–µ –æ–¥–Ω—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É 'Inline Keyboard'
// –≤–æ–Ω–∞ —Å–æ–∑–¥–∞—î—Ç—å—Å—è —è–∫ –æ–±–∏—á–Ω–∞, –∞–ª–µ –±—É–¥–µ –∑—è–≤–ª—è—Ç–∏—Å—å –ø—ñ–¥ —Å–∞–º–∏–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏
/**–ü–æ–ø–µ—Ä—à–µ –¥–æ–±–∞–≤–∏–º 'Inline Keyboard' –≤ —ñ–º–ø–æ—Ä—Ç...  (—Å—Ç—Ä–æ–∫–∞ 35)
 * - –¢–µ–ø–µ—Ä —Å—Ç–≤–æ—Ä–∏–º–æ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É (—Å—Ç—Ä–æ–∫–∞ 55)
 * –ø–µ—Ä–µ–¥–∞—î–º–æ –≤ –º–µ—Ç–æ–¥ `Text` 2 –∞—Ä–≥—É–º–µ–Ω—Ç–∞:
 * 1- –ª–µ–π–±–ª –∫–Ω–æ–ø–∫–∏
 * 2- –ø—Ä–µ–ª–æ—É–¥–¥–∞—Ç–∞
 */

// –ó–∞—Ä–∞–∑ –ø—Ä–∏ –Ω–∞–∂–∞—Ç—ñ—ó –∫–Ω–æ–ø–æ–∫ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø—Ä–æ—ñ—Å—Ö–æ–¥–µ.
// –ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ —Ü—ñ –ø–æ–¥—ñ—ó!
// –¢—Ä–µ–±–∞ –¥–æ–±–∞–≤–∏—Ç—å —â–µ –æ–¥–∏–Ω —Å–ª—É—à–∞—Ç–µ–ª—å , —è–∫–∏–π –±—É–¥–µ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ `callback query`,
// –ø—Ä–∏ —Ü—å–æ–º—É –≤–∫–∞–∑—É—î–º–æ —â–æ —Ä–µ–∞–≥—É—î–º–æ –Ω–∞ —Ç—ñ `callback query` –≤ —è–∫–∏—Ö —î –¥–∞—Ç–∞ 'getAnswer', 'cancel'
// –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–µ—Ç–æ–¥ bot.on() - (—Å—Ç—Ä–æ–∫–∞ 63) 
// —ñ –ø–µ—Ä–µ–¥–∞—î–º–æ —ñ –ø—Ä–∏–Ω–∞–∂–∞—Ç—ñ—ó –ø–æ–ª—É—á–∞—î–º –¥–æ—Å—Ç—É–ø –¥–æ —Ü—å–æ–≥–æ –∫–æ–ª–±–µ–∫–∞ –≤ –Ω–∞—à–æ–º—É –≤–∏–ø–∞–¥–∫—É 'getAnswer', 'cancel'


/* –¢–µ–ø–µ—Ä –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–∞–Ω–¥–æ–º–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–Ω—è –ø–æ —Ç–µ–º—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ
–≤–∏–∑–≤–∞—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω—É —Ñ-—ñ—é, –∑–±–µ—Ä–µ–≥—Ç–∏ –æ—Ç—Ä–∏–º–∞–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –≤ –∑–º—ñ–Ω–Ω—É —ñ
–≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –π–æ–≥–æ —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É!!

–î–ª—è —Ü—å–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª—è—î–º–æ—Å—å —É 'bot.hears' —ñ —Ç–∞–º –∑–∞–º—ñ—Å—Ç—å "`–©–æ —Ç–∞–∫–µ ${ctx.message.text}?`" -
-–±—É–¥–µ–º–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ —Ä–∞–Ω–¥–æ–º–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è, (—Å—Ç—Ä–æ–∫–∞ 68)
-–∑–±–µ—Ä—ñ–≥–∞—î–º–æ 'topic' –≤ –æ–∫—Ä–µ–º—É –∑–º—ñ–Ω–Ω—É (—Å—Ç—Ä–æ–∫–∞ 62)
-–æ—Ç—Ä–∏–º–∞—î–º–æ —Ä–∞–Ω–¥–æ–º–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è (—Å—Ç—Ä–æ–∫–∞ 63)
-–∑–º—ñ–Ω—é—î–º–æ —Å—Ç—Ä–æ–∫—É 70
-–æ–ø—Ü—ñ—é "—Å–∫–∞—Å—É–≤–∞—Ç–∏" —É–¥–∞–ª—è—î–º–æ (–≤–æ–Ω–∞ –±—É–ª–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó (—Å—Ç—Ä–æ–∫–∞ 72))
*/

/* –¢–µ–ø–µ—Ä —Ç—Ä–µ–±–∞ —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —ñ –±–µ–∑,
-–ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –¥–ª—è –ø–µ—Ä—à–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤ –∫–Ω–æ–ø–∫–∞—Ö(4 –≤–∞—Ä—ñ–∞–Ω—Ç–∏),
-–∞ –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –ø–∏—Ç–∞–Ω—å –±—É–¥–µ –ø–∏—Å–∞—Ç–∏—Å—è ("–û—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å")–±
-—Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É —â–æ –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É –±—É–¥—É—Ç—å —Ä–∞–∑–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π,
—Ç–∞–∫ —â–æ —Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö —Ç—Ä–µ–±–∞ –±—É–¥–µ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑ 
–º–µ—Ç–æ–¥–æ–º "–º–∞—Ä", —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–∏–±—Ä–∞—Ç—å —É –º–∞—Å–∏–≤–∞, –ø–µ—Ä–µ–±—Ä–∞—Ç–∏ –π–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∏ —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —Ä–µ–∑–ª—å—Ç–∞—Ç–∏–≤–Ω–∏–π –º–∞—Å–∏–≤.
–ë—É–¥–µ–º–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏—Å—å –ø–æ –º–∞—Å–∏–≤—É –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —ñ –Ω–∞ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∫–Ω–æ–ø–∫—É.
–í —ñ—Ç–æ–≥–µ –≤–∏–π–¥–µ –º–∞—Å–∏–≤ –∑ –∫–Ω–æ–ø–∫–∞–º–∏. –ü–æ—Ç—ñ–º —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑ –æ—Ç—Ä–∏–º–∞–Ω–æ–≥–æ –º–∞—Å–∏–≤–∞ –∫–Ω–æ–ø–æ–∫ - –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É (inlineKeyboard)!
-–ù–∞ —Å—Ç—Ä–æ–∫–µ 65 - 71 –∑–∞–∫–æ–º–µ–Ω—Ç—É—î–º–æ —Å—Ç–∞—Ä—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É —â–æ–± –Ω–µ –∑–∞–≤–∞–∂–∞–ª–∞.
-–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é 'if' –∑—Ä–æ–±–∏–º–æ 2 –≤–∞—Ä—ñ–∞–Ω—Ç–∞, (—Å—Ç—Ä–æ–∫–∞ 73)
 */

// –î–∞–ª—ñ —Ç—Ä–µ–±–∞ –¥–∏–≤–∏—Ç–∏—Å—å –≤—ñ–¥–µ–æ —â–µ —Ä–∞–∑ ("https://www.youtube.com/watch?v=BQr9u6Bb_mE") !!!!!!!!!